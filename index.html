<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Flashcards de Ingl√™s</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --primary: #2563eb;
    --secondary: #64748b;
    --bg: #f8fafc;
    --card: #ffffff;
    --warning: #f59e0b;
}

body {
    margin: 0;
    font-family: "Segoe UI", system-ui, sans-serif;
    background: var(--bg);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.container {
    width: 100%;
    max-width: 380px;
    padding: 16px;
}

h1 {
    text-align: center;
    font-size: 20px;
    margin-bottom: 8px;
}

select {
    width: 100%;
    padding: 8px;
    border-radius: 10px;
    border: 1px solid #cbd5f5;
    margin-bottom: 10px;
}

.progress {
    font-size: 13px;
    text-align: center;
    color: var(--secondary);
    margin-bottom: 8px;
}

.card {
    width: 100%;
    height: 280px;
    perspective: 1200px;
    cursor: pointer;
}

.card-inner {
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.card.flip .card-inner {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    inset: 0;
    background: var(--card);
    border-radius: 16px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.12);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    backface-visibility: hidden;
}

.front {
    font-size: 34px;
    font-weight: 700;
    color: var(--primary);
}

.back {
    transform: rotateY(180deg);
    flex-direction: column;
    font-size: 15px;
    line-height: 1.5;
}

.controls {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-top: 12px;
}

button {
    padding: 10px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    cursor: pointer;
    background: var(--primary);
    color: #fff;
}

button.star {
    background: var(--warning);
}

button.star.active {
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.35);
    filter: brightness(0.98);
}
</style>
</head>
<body>

<div class="container">
  <h1>Flashcards de Ingl√™s</h1>

  <select id="modeSelect" onchange="changeMode()">
    <option value="levels">Estudo (A1-B2)</option>
    <option value="review">Revis√£o di√°ria (at√© 10 dif√≠ceis)</option>
    <option value="work">√Årea de Trabalho</option>
  </select>

  <select id="levelSelect" onchange="changeLevel()">
    <option value="A1">A1</option>
    <option value="A2">A2</option>
    <option value="B1">B1</option>
    <option value="B2">B2</option>
  </select>

  <div class="progress" id="levelCount"></div>
  <div class="progress" id="progress"></div>

  <div class="card" id="card" onclick="flipCard()">
    <div class="card-inner">
      <div class="card-face front" id="wordFront"></div>
      <div class="card-face back">
        <p><strong>Tradu√ß√£o:</strong> <span id="translation"></span></p>
        <p><strong>Pron√∫ncia:</strong> <span id="pronunciation"></span></p>
        <p><strong>Exemplo:</strong> <span id="example"></span></p>
      </div>
    </div>
  </div>

  <div class="controls">
    <button onclick="prevWord()">‚óÄ</button>
    <button onclick="speak()">üîä</button>
    <button class="star" onclick="toggleDifficult()">‚≠ê</button>
    <button onclick="nextWord()">‚ñ∂</button>
  </div>
</div>

<script type="module">
const levelSelect = document.getElementById("levelSelect");
const modeSelect = document.getElementById("modeSelect");
const wordFront = document.getElementById("wordFront");
const translation = document.getElementById("translation");
const pronunciation = document.getElementById("pronunciation");
const example = document.getElementById("example");
const progress = document.getElementById("progress");
const levelCount = document.getElementById("levelCount");
const card = document.getElementById("card");
const starButton = document.querySelector("button.star");

const workWords = [
  { word: "work", translation: "trabalho", pronunciation: "u√¢rk", example: "I work every day." },
  { word: "job", translation: "emprego", pronunciation: "dj√≥b", example: "I like my job." },
  { word: "task", translation: "tarefa", pronunciation: "t√°ssk", example: "This task is easy." },
  { word: "role", translation: "fun√ß√£o / papel", pronunciation: "r√¥ul", example: "This is my role." },
  { word: "responsibility", translation: "responsabilidade", pronunciation: "rispons√¢b√≠lit", example: "This is my responsibility." },
  { word: "schedule", translation: "agenda / cronograma", pronunciation: "sk√©djul", example: "Check the schedule." },
  { word: "priority", translation: "prioridade", pronunciation: "prai√≥riri", example: "This is a priority." },
  { word: "meeting", translation: "reuni√£o", pronunciation: "m√≠ting", example: "We have a meeting." },
  { word: "report", translation: "relat√≥rio", pronunciation: "rip√≥rt", example: "Send the report." },
  { word: "performance", translation: "desempenho", pronunciation: "perf√≥lmans", example: "Good performance." },
  { word: "productivity", translation: "produtividade", pronunciation: "prod√¢kt√≠viti", example: "Increase productivity." },
  { word: "procedure", translation: "procedimento", pronunciation: "pross√≠djur", example: "Follow the procedure." },
  { word: "inspection", translation: "inspe√ß√£o", pronunciation: "insp√©kshan", example: "Final inspection." },
  { word: "approval", translation: "aprova√ß√£o", pronunciation: "apr√∫val", example: "Waiting for approval." },
  { word: "rejection", translation: "rejei√ß√£o", pronunciation: "ridj√©kshan", example: "Product rejection." },
  { word: "correction", translation: "corre√ß√£o", pronunciation: "kor√©kshan", example: "Make a correction." },
  { word: "quality", translation: "qualidade", pronunciation: "ku√≥-l√¢ti", example: "Quality control is essential." },
  { word: "audit", translation: "auditoria", pronunciation: "√≥dit", example: "We have an internal audit tomorrow." },
  { word: "standard", translation: "padr√£o", pronunciation: "st√°nd√¢rd", example: "Follow the ISO standard." },
  { word: "process", translation: "processo", pronunciation: "pr√≥c√©s", example: "Document the process steps." },
  { word: "improvement", translation: "melhoria", pronunciation: "impr√∫v-m√¢nt", example: "Continuous improvement matters." },
  { word: "risk", translation: "risco", pronunciation: "r√≠sk", example: "Assess the risk before approving." },
  { word: "compliance", translation: "conformidade", pronunciation: "k√¢mpl√°i√¢ns", example: "Compliance is mandatory." },
  { word: "deadline", translation: "prazo", pronunciation: "d√©d-lain", example: "Meet the project deadline." },
  { word: "milestone", translation: "marco", pronunciation: "m√°ilstoun", example: "We reached a key milestone." },
  { word: "stakeholder", translation: "parte interessada", pronunciation: "st√™ik-h√≥uld√¢r", example: "Engage every stakeholder." },
  { word: "efficiency", translation: "efici√™ncia", pronunciation: "if√≠shi√¢nsi", example: "Increase operational efficiency." },
  { word: "specification", translation: "especifica√ß√£o", pronunciation: "sp√©cifik√™ish√¢n", example: "Review the product specification." },
  { word: "prototype", translation: "prot√≥tipo", pronunciation: "pr√≥ut√¥t√°ip", example: "Build a prototype first." },
  { word: "engineering", translation: "engenharia", pronunciation: "√©ndjin√≠√¢ring", example: "Engineering approved the change." },
  { word: "reliability", translation: "confiabilidade", pronunciation: "rilai√¢b√≠lit√≠", example: "Reliability tests passed." }
];

const wordsByLevel = {
  A1: [
    { word: "about", translation: "sobre", pronunciation: "√¢b√°ut", example: "This book is about animals." },
    { word: "above", translation: "acima", pronunciation: "√¢b√¢v", example: "The picture is above the table." },
    { word: "across", translation: "atrav√©s", pronunciation: "√¢kr√≥ss", example: "Go across the street." },
    { word: "act", translation: "agir", pronunciation: "√°kt", example: "Please act quickly." },
    { word: "add", translation: "adicionar", pronunciation: "√©d", example: "Add some sugar." },
    { word: "after", translation: "depois", pronunciation: "√°ft√¢r", example: "We eat after work." },
    { word: "again", translation: "novamente", pronunciation: "√¢g√©n", example: "Try again." },
    { word: "air", translation: "ar", pronunciation: "√©r", example: "Fresh air is good." },
    { word: "all", translation: "todo", pronunciation: "√≥l", example: "All people are here." },
    { word: "almost", translation: "quase", pronunciation: "√≥lmoust", example: "Almost finished." },
    { word: "always", translation: "sempre", pronunciation: "√≥lueiz", example: "I always study." },
    { word: "animal", translation: "animal", pronunciation: "√©nim√¢l", example: "The animal runs." },
    { word: "answer", translation: "resposta", pronunciation: "√©ns√¢r", example: "Give an answer." },
    { word: "any", translation: "qualquer", pronunciation: "√©ni", example: "Any problem?" },
    { word: "area", translation: "√°rea", pronunciation: "√©ri√¢", example: "This area is safe." },
    { word: "ask", translation: "perguntar", pronunciation: "√°sk", example: "Ask a question." },
    { word: "away", translation: "longe", pronunciation: "√¢w√™i", example: "Go away." },
    { word: "back", translation: "voltar", pronunciation: "b√©k", example: "Come back." },
    { word: "bad", translation: "ruim", pronunciation: "b√©d", example: "Bad weather." },
    { word: "become", translation: "tornar-se", pronunciation: "bik√¢m", example: "Become better." },
    { word: "face", translation: "rosto", pronunciation: "f√™is", example: "Ela tem um rosto gentil." },
    { word: "family", translation: "fam√≠lia", pronunciation: "f√©mili", example: "Minha fam√≠lia √© grande." },
    { word: "far", translation: "longe", pronunciation: "f√°r", example: "A escola √© longe." },
    { word: "fast", translation: "r√°pido", pronunciation: "f√©st", example: "Um carro r√°pido." },
    { word: "father", translation: "pai", pronunciation: "f√°der", example: "Meu pai trabalha." },
    { word: "feel", translation: "sentir", pronunciation: "f√≠l", example: "Eu me sinto feliz." },
    { word: "few", translation: "poucos", pronunciation: "fi√∫", example: "Poucas pessoas vieram." },
    { word: "find", translation: "encontrar", pronunciation: "f√°ind", example: "Encontre a chave." },
    { word: "first", translation: "primeiro", pronunciation: "f√¢rst", example: "First day." },
    { word: "food", translation: "comida", pronunciation: "f√∫d", example: "Good food." },
    { word: "form", translation: "forma / formul√°rio", pronunciation: "f√≥rm", example: "Fill the form." },
    { word: "friend", translation: "amigo", pronunciation: "fr√©nd", example: "My friend is here." },
    { word: "full", translation: "cheio", pronunciation: "f√∫l", example: "The cup is full." },
    { word: "get", translation: "obter / pegar", pronunciation: "gu√©t", example: "Get some water." },
    { word: "girl", translation: "menina", pronunciation: "g√¢rl", example: "The girl smiles." },
    { word: "give", translation: "dar", pronunciation: "gu√≠v", example: "Give me help." },
    { word: "good", translation: "bom", pronunciation: "g√∫d", example: "Good job." },
    { word: "group", translation: "grupo", pronunciation: "gr√∫p", example: "A small group." },
    { word: "grow", translation: "crescer", pronunciation: "gr√¥u", example: "Children grow fast." },
    { word: "hand", translation: "m√£o", pronunciation: "r√™nd", example: "Lave as m√£os." },
    { word: "hard", translation: "dif√≠cil / duro", pronunciation: "r√°rd", example: "Hard work." },
    { word: "have", translation: "ter", pronunciation: "r√©v", example: "I have time." },
    { word: "I", translation: "eu", pronunciation: "ai", example: "I am happy." },
    { word: "you", translation: "voc√™", pronunciation: "i√∫", example: "You are here." },
    { word: "he", translation: "ele", pronunciation: "r√≠", example: "He is my friend." },
    { word: "she", translation: "ela", pronunciation: "sh√≠", example: "She is nice." },
    { word: "it", translation: "ele/ela (objeto)", pronunciation: "√≠t", example: "It is blue." },
    { word: "we", translation: "n√≥s", pronunciation: "u√≠", example: "We are ready." },
    { word: "they", translation: "eles", pronunciation: "d√™i", example: "They are students." },
    { word: "my", translation: "meu/minha", pronunciation: "mai", example: "My name is Ana." },
    { word: "your", translation: "seu/sua", pronunciation: "i√≥r", example: "Your house is big." },
    { word: "his", translation: "dele", pronunciation: "r√≠z", example: "His car is red." },
    { word: "her", translation: "dela", pronunciation: "r√¢r", example: "Her bag is new." },
    { word: "this", translation: "este", pronunciation: "dh√≠s", example: "This is good." },
    { word: "that", translation: "aquele", pronunciation: "dh√©t", example: "That is my book." },
    { word: "here", translation: "aqui", pronunciation: "r√≠r", example: "I am here." },
    { word: "there", translation: "l√°", pronunciation: "dh√©r", example: "She is there." },
    { word: "yes", translation: "sim", pronunciation: "i√©s", example: "Yes, I agree." },
    { word: "no", translation: "n√£o", pronunciation: "n√¥u", example: "No, thank you." },
    { word: "and", translation: "e", pronunciation: "√©nd", example: "You and me." },
    { word: "but", translation: "mas", pronunciation: "b√¢t", example: "I try, but I fail." },
    { word: "or", translation: "ou", pronunciation: "√≥r", example: "Tea or coffee?" },
    { word: "one", translation: "um", pronunciation: "u√¢n", example: "One apple." },
    { word: "two", translation: "dois", pronunciation: "tch√∫", example: "Two cars." },
    { word: "three", translation: "tr√™s", pronunciation: "thr√≠", example: "Three books." },
    { word: "big", translation: "grande", pronunciation: "b√≠g", example: "Big house." },
    { word: "small", translation: "pequeno", pronunciation: "sm√≥l", example: "Small dog." },
    { word: "hot", translation: "quente", pronunciation: "r√≥t", example: "Hot water." },
    { word: "cold", translation: "frio", pronunciation: "k√¥uld", example: "Cold night." },
    { word: "new", translation: "novo", pronunciation: "ni√∫", example: "New phone." },
    { word: "old", translation: "velho", pronunciation: "√¥uld", example: "Old car." },
    { word: "man", translation: "homem", pronunciation: "m√©n", example: "The man is here." },
    { word: "woman", translation: "mulher", pronunciation: "w√∫man", example: "The woman smiles." },
    { word: "child", translation: "crian√ßa", pronunciation: "tch√°ild", example: "The child plays." },
    { word: "name", translation: "nome", pronunciation: "n√™im", example: "My name is Leo." },
    { word: "day", translation: "dia", pronunciation: "d√™i", example: "Good day." },
    { word: "night", translation: "noite", pronunciation: "n√°it", example: "Good night." },
    { word: "morning", translation: "manh√£", pronunciation: "m√≥rnin", example: "Good morning." },
    { word: "afternoon", translation: "tarde", pronunciation: "√°fter-n√∫n", example: "Good afternoon." },
    { word: "today", translation: "hoje", pronunciation: "tud√™i", example: "Today is sunny." },
    { word: "tomorrow", translation: "amanh√£", pronunciation: "tum√≥rrou", example: "Tomorrow I work." },
    { word: "yesterday", translation: "ontem", pronunciation: "i√©sterd√™i", example: "Yesterday was fun." },
    { word: "time", translation: "tempo", pronunciation: "t√°im", example: "What time is it?" },
    { word: "now", translation: "agora", pronunciation: "n√°u", example: "Now I eat." },
    { word: "home", translation: "casa", pronunciation: "r√¥um", example: "I am home." },
    { word: "house", translation: "casa", pronunciation: "r√°us", example: "My house is white." },
    { word: "school", translation: "escola", pronunciation: "sk√∫l", example: "I go to school." },
    { word: "work", translation: "trabalho", pronunciation: "u√¢rk", example: "I work here." },
    { word: "job", translation: "emprego", pronunciation: "dj√≥b", example: "Good job." },
    { word: "book", translation: "livro", pronunciation: "b√∫c", example: "This book is new." }
  ],
  A2: [
    { word: "accept", translation: "aceitar", pronunciation: "√¢ks√©pt", example: "I accept your offer." },
    { word: "activity", translation: "atividade", pronunciation: "√¢kt√≠v√¢ti", example: "This activity is fun." },
    { word: "advise", translation: "aconselhar", pronunciation: "√¢dv√°iz", example: "I advise you to rest." },
    { word: "agree", translation: "concordar", pronunciation: "√¢gr√≠", example: "I agree with you." },
    { word: "allow", translation: "permitir", pronunciation: "√¢l√°u", example: "They allow pets." },
    { word: "angry", translation: "bravo", pronunciation: "√©ngri", example: "He is angry today." },
    { word: "arrange", translation: "organizar", pronunciation: "√¢r√©indj", example: "Arrange the meeting." },
    { word: "arrive", translation: "chegar", pronunciation: "√¢r√°iv", example: "We arrive early." },
    { word: "art", translation: "arte", pronunciation: "√°rt", example: "I like modern art." },
    { word: "attend", translation: "comparecer", pronunciation: "√¢t√©nd", example: "Attend the class." },
    { word: "attention", translation: "aten√ß√£o", pronunciation: "√¢t√©nsh√¢n", example: "Pay attention." },
    { word: "available", translation: "dispon√≠vel", pronunciation: "√¢v√™il√¢b√¢l", example: "The room is available." },
    { word: "average", translation: "m√©dia", pronunciation: "√°v√¢r√¢dj", example: "Average price." },
    { word: "avoid", translation: "evitar", pronunciation: "√¢v√≥id", example: "Avoid mistakes." },
    { word: "balance", translation: "equil√≠brio", pronunciation: "b√°l√¢ns", example: "Work-life balance." },
    { word: "beauty", translation: "beleza", pronunciation: "bi√∫ti", example: "Natural beauty." },
    { word: "behave", translation: "comportar-se", pronunciation: "bih√™iv", example: "Behave well." },
    { word: "belong", translation: "pertencer", pronunciation: "bil√≥ng", example: "This belongs to me." },
    { word: "borrow", translation: "emprestar (pegar)", pronunciation: "b√≥r√¥u", example: "Borrow a book." },
    { word: "ability", translation: "habilidade", pronunciation: "√¢b√≠lit√≠", example: "She has the ability to learn fast." },
    { word: "abroad", translation: "no exterior", pronunciation: "√¢br√≥d", example: "He works abroad." },
    { word: "achievement", translation: "conquista", pronunciation: "√¢ch√≠v-m√¢nt", example: "This is an achievement." },
    { word: "advantage", translation: "vantagem", pronunciation: "√¢dv√°ntidj", example: "Big advantage." },
    { word: "adventure", translation: "aventura", pronunciation: "√¢dv√™ntch√¢r", example: "Travel is an adventure." },
    { word: "agreement", translation: "acordo", pronunciation: "√¢gr√≠im√¢nt", example: "Sign an agreement." },
    { word: "announcement", translation: "an√∫ncio", pronunciation: "√¢n√°unsm√¢nt", example: "Important announcement." },
    { word: "application", translation: "aplica√ß√£o / candidatura", pronunciation: "√¢plik√™ish√¢n", example: "Job application." },
    { word: "argument", translation: "argumento", pronunciation: "√°rguium√¢nt", example: "Strong argument." },
    { word: "atmosphere", translation: "atmosfera", pronunciation: "√°tm√¢sf√≠r", example: "Nice atmosphere." },
    { word: "background", translation: "hist√≥rico / contexto", pronunciation: "b√°kgr√°und", example: "Family background." },
    { word: "behavior", translation: "comportamento", pronunciation: "bih√™ivi√¢r", example: "Good behavior." },
    { word: "beneficial", translation: "ben√©fico", pronunciation: "b√©n√¢f√≠sh√¢l", example: "Exercise is beneficial." },
    { word: "celebration", translation: "celebra√ß√£o", pronunciation: "s√©l√¢br√™ish√¢n", example: "Birthday celebration." },
    { word: "choice", translation: "escolha", pronunciation: "tch√≥is", example: "Make a choice." },
    { word: "communication", translation: "comunica√ß√£o", pronunciation: "k√¢miunik√™ish√¢n", example: "Good communication." },
    { word: "competition", translation: "competi√ß√£o", pronunciation: "k√≥mpitish√¢n", example: "Sports competition." },
    { word: "almost", translation: "quase", pronunciation: "√≥lmoust", example: "I am almost ready." },
    { word: "already", translation: "j√°", pronunciation: "√≥lredi", example: "I already know." },
    { word: "enough", translation: "suficiente", pronunciation: "in√¢f", example: "That is enough." },
    { word: "maybe", translation: "talvez", pronunciation: "m√™ibi", example: "Maybe tomorrow." },
    { word: "around", translation: "em volta / por a√≠", pronunciation: "ar√°und", example: "Look around." },
    { word: "together", translation: "juntos", pronunciation: "tug√©der", example: "We work together." },
    { word: "alone", translation: "sozinho", pronunciation: "al√¥un", example: "I am alone." },
    { word: "important", translation: "importante", pronunciation: "imp√≥rtant", example: "This is important." },
    { word: "different", translation: "diferente", pronunciation: "d√≠ferent", example: "They are different." },
    { word: "similar", translation: "parecido", pronunciation: "s√≠milar", example: "The ideas are similar." },
    { word: "possible", translation: "poss√≠vel", pronunciation: "p√≥ssibol", example: "It is possible." },
    { word: "impossible", translation: "imposs√≠vel", pronunciation: "imp√≥ssibol", example: "That is impossible." },
    { word: "sure", translation: "certo / claro", pronunciation: "sh√≥r", example: "I am sure." },
    { word: "ready", translation: "pronto", pronunciation: "r√©ri", example: "I am ready now." },
    { word: "late", translation: "atrasado", pronunciation: "l√™it", example: "I am late today." },
    { word: "early", translation: "cedo", pronunciation: "√¢rli", example: "I wake up early." },
    { word: "busy", translation: "ocupado", pronunciation: "b√≠zi", example: "I am busy now." },
    { word: "free", translation: "livre", pronunciation: "fr√≠", example: "I am free tonight." },
    { word: "easy", translation: "f√°cil", pronunciation: "√≠zi", example: "This is easy." },
    { word: "difficult", translation: "dif√≠cil", pronunciation: "d√≠fik√¢lt", example: "This is difficult." },
    { word: "strong", translation: "forte", pronunciation: "str√¥ng", example: "She is strong." },
    { word: "weak", translation: "fraco", pronunciation: "u√≠ik", example: "I feel weak." },
    { word: "healthy", translation: "saud√°vel", pronunciation: "r√©ltchi", example: "Healthy food is good." },
    { word: "sick", translation: "doente", pronunciation: "s√≠k", example: "I am sick today." },
    { word: "careful", translation: "cuidadoso", pronunciation: "k√©rful", example: "Be careful." },
    { word: "travel", translation: "viajar", pronunciation: "tr√©vel", example: "I like to travel." },
    { word: "trip", translation: "viagem", pronunciation: "tr√≠p", example: "The trip was great." },
    { word: "holiday", translation: "f√©rias/feriado", pronunciation: "r√≥lidei", example: "I am on holiday." },
    { word: "visit", translation: "visitar", pronunciation: "v√≠zit", example: "I visit my family." },
    { word: "move", translation: "mover / mudar", pronunciation: "m√∫v", example: "I move to another city." },
    { word: "arrive", translation: "chegar", pronunciation: "ar√°iv", example: "I arrive at 8." },
    { word: "leave", translation: "sair", pronunciation: "l√≠v", example: "I leave early." },
    { word: "choose", translation: "escolher", pronunciation: "tch√∫uz", example: "Choose one." },
    { word: "decide", translation: "decidir", pronunciation: "dis√°id", example: "I decide now." },
    { word: "explain", translation: "explicar", pronunciation: "ikspl√™in", example: "Please explain." },
    { word: "understand", translation: "entender", pronunciation: "√¢nd√¢rst√©nd", example: "I understand you." },
    { word: "remember", translation: "lembrar", pronunciation: "rim√©mb√¢r", example: "I remember that." },
    { word: "forget", translation: "esquecer", pronunciation: "forg√©t", example: "I forget names." },
    { word: "agree", translation: "concordar", pronunciation: "agr√≠", example: "I agree with you." },
    { word: "disagree", translation: "discordar", pronunciation: "disagr√≠", example: "I disagree." },
    { word: "believe", translation: "acreditar", pronunciation: "bil√≠v", example: "I believe you." },
    { word: "achieve", translation: "alcan√ßar", pronunciation: "atch√≠v", example: "Achieve goals." },
    { word: "apply", translation: "aplicar", pronunciation: "apl√°i", example: "Apply for a job." },
    { word: "arrange", translation: "organizar", pronunciation: "ar√™indj", example: "Arrange a meeting." },
    { word: "attend", translation: "participar", pronunciation: "at√©nd", example: "Attend the class." },
    { word: "balance", translation: "equil√≠brio", pronunciation: "b√°lans", example: "Balance work and life." },
    { word: "belong", translation: "pertencer", pronunciation: "bil√≥ng", example: "This belongs to me." },
    { word: "borrow", translation: "pegar emprestado", pronunciation: "b√≥rou", example: "Borrow a book." },
    { word: "lend", translation: "emprestar", pronunciation: "l√©nd", example: "Lend me money." },
    { word: "care", translation: "cuidar", pronunciation: "k√©r", example: "Care about health." },
    { word: "compare", translation: "comparar", pronunciation: "komp√©r", example: "Compare options." },
    { word: "consider", translation: "considerar", pronunciation: "kons√≠der", example: "Consider the offer." },
    { word: "contact", translation: "contatar", pronunciation: "k√≥ntakt", example: "Contact support." },
    { word: "deliver", translation: "entregar", pronunciation: "dil√≠ver", example: "Deliver today." },
    { word: "depend on", translation: "depender de", pronunciation: "dip√©nd on", example: "It depends on you." },
    { word: "discover", translation: "descobrir", pronunciation: "disk√¢ver", example: "Discover new places." },
    { word: "encourage", translation: "encorajar", pronunciation: "enk√¢ridj", example: "Encourage students." },
    { word: "improve", translation: "melhorar", pronunciation: "impr√∫v", example: "Improve skills." },
    { word: "invite", translation: "convidar", pronunciation: "inv√°it", example: "Invite friends." },
    { word: "miss", translation: "perder/sentir falta", pronunciation: "m√≠s", example: "I miss you." },
    { word: "notice", translation: "perceber", pronunciation: "n√¥utis", example: "Notice details." },
    { word: "order", translation: "pedir", pronunciation: "√≥rder", example: "Order food." },
    { word: "organize", translation: "organizar", pronunciation: "√≥rganaiz", example: "Organize files." },
    { word: "prepare", translation: "preparar", pronunciation: "prip√©r", example: "Prepare documents." },
    { word: "promise", translation: "prometer", pronunciation: "pr√≥mise", example: "I promise help." },
    { word: "realize", translation: "perceber", pronunciation: "r√≠alaiz", example: "I realize now." },
    { word: "recommend", translation: "recomendar", pronunciation: "rek√≥mend", example: "Recommend this book." },
    { word: "refuse", translation: "recusar", pronunciation: "rif√≠uz", example: "Refuse politely." },
    { word: "relax", translation: "relaxar", pronunciation: "ril√©ks", example: "Relax at home." },
    { word: "remove", translation: "remover", pronunciation: "rim√∫v", example: "Remove the file." },
    { word: "repair", translation: "consertar", pronunciation: "rip√©r", example: "Repair the car." },
    { word: "request", translation: "solicitar", pronunciation: "rikw√©st", example: "Request support." },
    { word: "respond", translation: "responder", pronunciation: "risp√≥nd", example: "Respond quickly." },
    { word: "return", translation: "retornar", pronunciation: "rit√¢rn", example: "Return tomorrow." },
    { word: "risk", translation: "risco", pronunciation: "r√≠sk", example: "Take a risk." },
    { word: "search", translation: "procurar", pronunciation: "s√¢rtch", example: "Search online." },
    { word: "select", translation: "selecionar", pronunciation: "sil√©kt", example: "Select option." },
    { word: "share", translation: "compartilhar", pronunciation: "sh√©r", example: "Share information." },
    { word: "solve", translation: "resolver", pronunciation: "s√≥lv", example: "Solve issues." },
    { word: "suggest", translation: "sugerir", pronunciation: "sadj√©st", example: "Suggest changes." },
    { word: "support", translation: "apoiar", pronunciation: "sap√≥rt", example: "Support the team." }
  ],
  B1: [
    { word: "achieve", translation: "alcan√ßar", pronunciation: "ach√≠iv", example: "She achieved her goals." },
    { word: "challenge", translation: "desafio", pronunciation: "tch√©len dge", example: "This is a difficult challenge." },
    { word: "experience", translation: "experi√™ncia", pronunciation: "iksp√≠riens", example: "He shared his experience." },
    { word: "ability", translation: "habilidade", pronunciation: "ab√≠liti", example: "She has the ability to lead." },
    { word: "advice", translation: "conselho", pronunciation: "adv√°is", example: "He gave me good advice." },
    { word: "career", translation: "carreira", pronunciation: "karr√≠er", example: "She wants a career in law." },
    { word: "community", translation: "comunidade", pronunciation: "komi√∫-niti", example: "Our community is friendly." },
    { word: "environment", translation: "meio ambiente", pronunciation: "inv√°ironment", example: "We must protect the environment." },
    { word: "improve", translation: "melhorar", pronunciation: "impr√∫v", example: "Practice helps you improve." },
    { word: "issue", translation: "quest√£o/problema", pronunciation: "√≠shiu", example: "This is a serious issue." },
    { word: "purpose", translation: "prop√≥sito", pronunciation: "p√¢rp√¥s", example: "What is the purpose of this?" },
    { word: "progress", translation: "progresso", pronunciation: "pr√≥gress", example: "You made great progress." },
    { word: "require", translation: "exigir", pronunciation: "ruicw√°ier", example: "This job requires patience." },
    { word: "support", translation: "apoio", pronunciation: "sup√≥rt", example: "Thank you for your support." },
    { word: "volunteer", translation: "volunt√°rio", pronunciation: "v√≥lan-tier", example: "She volunteers on weekends." },
    { word: "adaptation", translation: "adapta√ß√£o", pronunciation: "√¢d√¢pt√™ish√¢n", example: "Cultural adaptation takes time." },
    { word: "advocate", translation: "defender", pronunciation: "√©dv√¢k√™t", example: "She advocates education." },
    { word: "allocate", translation: "alocar", pronunciation: "√°l√¢k√™it", example: "Allocate resources wisely." },
    { word: "ambition", translation: "ambi√ß√£o", pronunciation: "√¢mb√≠sh√¢n", example: "He has ambition." },
    { word: "analysis", translation: "an√°lise", pronunciation: "√¢n√°l√¢sis", example: "Detailed analysis is needed." },
    { word: "appreciate", translation: "apreciar", pronunciation: "√¢pr√≠shieit", example: "I appreciate your help." },
    { word: "aspect", translation: "aspecto", pronunciation: "√°spekt", example: "Consider every aspect." },
    { word: "assess", translation: "avaliar", pronunciation: "√¢s√©ss", example: "Assess the risks." },
    { word: "assure", translation: "assegurar", pronunciation: "√¢sh√≥r", example: "I assure you." },
    { word: "attain", translation: "atingir", pronunciation: "√¢t√™in", example: "Attain success." },
    { word: "awareness", translation: "consci√™ncia", pronunciation: "√¢w√©rn√¢s", example: "Health awareness." },
    { word: "benchmark", translation: "refer√™ncia", pronunciation: "b√™nchm√°rk", example: "Industry benchmark." },
    { word: "capability", translation: "capacidade", pronunciation: "k√™ip√¢b√≠l√¢ti", example: "Technical capability." },
    { word: "clarification", translation: "esclarecimento", pronunciation: "kl√°r√¢fik√™ish√¢n", example: "Need clarification." },
    { word: "collaborate", translation: "colaborar", pronunciation: "k√¢l√°b√¢r√™it", example: "Collaborate with teams." },
    { word: "commit", translation: "comprometer", pronunciation: "k√¢m√≠t", example: "Commit to goals." },
    { word: "comply", translation: "cumprir", pronunciation: "k√¢mpl√°i", example: "Comply with rules." },
    { word: "initiative", translation: "iniciativa", pronunciation: "in√≠sh√¢tƒ´v", example: "She showed initiative at work." },
    { word: "insist", translation: "insistir", pronunciation: "ins√≠st", example: "He insists on going." },
    { word: "interpret", translation: "interpretar", pronunciation: "int√¢rp ≥√©t", example: "Interpret the data." },
    { word: "invest", translation: "investir", pronunciation: "inv√©st", example: "Invest in education." },
    { word: "involve", translation: "envolver", pronunciation: "inv√≥lv", example: "This involves teamwork." },
    { word: "issue", translation: "quest√£o / problema", pronunciation: "√≠shu", example: "We solved the issue." },
    { word: "justify", translation: "justificar", pronunciation: "dj√¢st√¢f√°i", example: "Justify your answer." },
    { word: "label", translation: "r√≥tulo / rotular", pronunciation: "l√™ib√¢l", example: "Label the boxes." },
    { word: "lack", translation: "falta / faltar", pronunciation: "l√°k", example: "Lack of time." },
    { word: "launch", translation: "lan√ßar", pronunciation: "l√≥nch", example: "Launch a project." },
    { word: "limit", translation: "limite", pronunciation: "l√≠mit", example: "There is a limit." },
    { word: "link", translation: "ligar / v√≠nculo", pronunciation: "l√≠nk", example: "Link the files." },
    { word: "manage", translation: "gerenciar", pronunciation: "m√©n√¢dj", example: "Manage the team." },
    { word: "measure", translation: "medida / medir", pronunciation: "m√©j√¢r", example: "Measure success." },
    { word: "method", translation: "m√©todo", pronunciation: "m√©th√¢d", example: "Choose a method." },
    { word: "monitor", translation: "monitorar", pronunciation: "m√≥nit√¢r", example: "Monitor progress." },
    { word: "motivate", translation: "motivar", pronunciation: "m√¥tiv√™it", example: "Motivate students." },
    { word: "negotiate", translation: "negociar", pronunciation: "nig√¥ushieit", example: "Negotiate prices." }
  ],
  B2: [
    { word: "approach", translation: "abordagem", pronunciation: "apr√¥utch", example: "We need a new approach." },
    { word: "assume", translation: "assumir", pronunciation: "ass√∫m", example: "Don't assume the result." },
    { word: "awareness", translation: "consci√™ncia", pronunciation: "au√©rness", example: "They raised awareness about recycling." },
    { word: "circumstance", translation: "circunst√¢ncia", pronunciation: "s√¢rcum-stans", example: "Under these circumstances we must wait." },
    { word: "commitment", translation: "compromisso", pronunciation: "com√≠tment", example: "Her commitment is impressive." },
    { word: "consequence", translation: "consequ√™ncia", pronunciation: "k√≥nse-kuens", example: "Every action has a consequence." },
    { word: "despite", translation: "apesar de", pronunciation: "disp√°it", example: "Despite the rain, we went out." },
    { word: "estimate", translation: "estimativa", pronunciation: "√©stim√™t", example: "Can you estimate the cost?" },
    { word: "feature", translation: "caracter√≠stica", pronunciation: "f√≠tchar", example: "This phone has a new feature." },
    { word: "maintain", translation: "manter", pronunciation: "meint√™in", example: "It's hard to maintain focus." },
    { word: "priority", translation: "prioridade", pronunciation: "prai√¥r√¢ti", example: "Safety is our priority." },
    { word: "reliable", translation: "confi√°vel", pronunciation: "ril√°i√¢bol", example: "He is a reliable coworker." },
    { word: "significant", translation: "significativo", pronunciation: "sign√≠f√©cant", example: "There was a significant change." },
    { word: "strategy", translation: "estrat√©gia", pronunciation: "str√°t√©di", example: "We discussed the new strategy." },
    { word: "sustainable", translation: "sustent√°vel", pronunciation: "sust√™inabol", example: "We need sustainable energy." },
    { word: "trend", translation: "tend√™ncia", pronunciation: "tr√©nd", example: "This is a global trend." },
    { word: "insight", translation: "percep√ß√£o / insight", pronunciation: "√≠nsait", example: "The report provides useful insight." },
    { word: "integrity", translation: "integridade", pronunciation: "int√©gr√¢ti", example: "Integrity is essential in leadership." },
    { word: "interpret", translation: "interpretar", pronunciation: "int√¢rpr√™t", example: "Interpret the results carefully." },
    { word: "intervene", translation: "intervir", pronunciation: "int√¢rv√≠n", example: "The manager intervened." },
    { word: "intrinsic", translation: "intr√≠nseco", pronunciation: "intr√≠nsik", example: "Intrinsic motivation matters." },
    { word: "invoke", translation: "invocar", pronunciation: "inv√¥uk", example: "Invoke the law." },
    { word: "justify", translation: "justificar", pronunciation: "dj√¢st√¢f√°i", example: "Justify your decision." },
    { word: "leverage", translation: "alavancar", pronunciation: "l√™v√¢r√¢dj", example: "Leverage experience." },
    { word: "likelihood", translation: "probabilidade", pronunciation: "l√°iklihud", example: "High likelihood of success." },
    { word: "magnitude", translation: "magnitude", pronunciation: "m√°gnih-t√∫d", example: "The magnitude is large." },
    { word: "mandatory", translation: "obrigat√≥rio", pronunciation: "m√°nd√¢t√≥ri", example: "Training is mandatory." },
    { word: "manifest", translation: "manifestar", pronunciation: "m√°nif√™st", example: "Problems manifest quickly." },
    { word: "mediator", translation: "mediador", pronunciation: "m√≠di√™it√¢r", example: "A mediator resolved the conflict." },
    { word: "mitigate", translation: "mitigar", pronunciation: "m√≠tig√™it", example: "Mitigate the risks." },
    { word: "notion", translation: "no√ß√£o", pronunciation: "n√¥ush√¢n", example: "Basic notion of law." },
    { word: "objective", translation: "objetivo", pronunciation: "√¢bdj√©ktiv", example: "The objective is clear." },
    { word: "accumulate", translation: "acumular", pronunciation: "√¢ki√∫miul√™it", example: "Accumulate experience over time." },
    { word: "advancement", translation: "avan√ßo", pronunciation: "√¢dv√°nsm√¢nt", example: "Career advancement matters." },
    { word: "align", translation: "alinhar", pronunciation: "√¢l√°ign", example: "Align goals with strategy." },
    { word: "allocate", translation: "alocar", pronunciation: "√°l√¢k√™it", example: "Allocate budget carefully." },
    { word: "ambivalent", translation: "ambivalente", pronunciation: "√¢mb√≠v√¢l√¢nt", example: "Ambivalent feelings." },
    { word: "amplify", translation: "amplificar", pronunciation: "√°mplif√°i", example: "Amplify the message." },
    { word: "anticipatory", translation: "antecipat√≥rio", pronunciation: "√¢nt√≠sip√¢t√≥ri", example: "Anticipatory planning helps." },
    { word: "assertive", translation: "assertivo", pronunciation: "√¢s√¢rtiv", example: "Be assertive, not aggressive." },
    { word: "attainment", translation: "atingimento", pronunciation: "√¢t√™inm√¢nt", example: "Goal attainment." },
    { word: "augment", translation: "aumentar", pronunciation: "√¥ugm√©nt", example: "Augment resources." },
    { word: "benchmarking", translation: "benchmarking", pronunciation: "b√™nchm√°rking", example: "Benchmarking improves quality." },
    { word: "calibrate", translation: "calibrar", pronunciation: "k√°libr√™it", example: "Calibrate the equipment." },
    { word: "capability", translation: "capacidade", pronunciation: "k√™ip√¢b√≠l√¢ti", example: "Technical capability." },
    { word: "clarity", translation: "clareza", pronunciation: "kl√°r√¢ti", example: "Clarity is essential." },
    { word: "coexist", translation: "coexistir", pronunciation: "k√¥uigz√≠ist", example: "Different views coexist." },
    { word: "collaborative", translation: "colaborativo", pronunciation: "k√¢l√°b√¢r√™tiv", example: "Collaborative effort." },
    { word: "complement", translation: "complementar", pronunciation: "k√≥mplim√™nt", example: "Complement the proposal with data." }
  ]
};

const savedState = JSON.parse(localStorage.getItem("flashcardState") || "{}");
let positions = savedState.positions ?? {};
let difficult = savedState.difficult ?? {};
let reviewState = savedState.reviewState ?? null;
let currentMode = savedState.mode ?? "levels";

let currentLevel = levelSelect.value;
if (savedState.level && wordsByLevel[savedState.level]) {
  currentLevel = savedState.level;
  levelSelect.value = currentLevel;
}

let currentIndex = positions[currentLevel] ?? 0;

if (!["levels", "review", "work"].includes(currentMode)) currentMode = "levels";
document.getElementById("modeSelect").value = currentMode;
levelSelect.style.display = currentMode === "levels" ? "block" : "none";
if (currentMode !== "levels") {
  currentIndex = positions[currentMode] ?? 0;
}

function persist() {
  localStorage.setItem(
    "flashcardState",
    JSON.stringify({ level: currentLevel, positions, difficult, mode: currentMode, reviewState })
  );
}

function getWords() {
  if (currentMode === "review") return getReviewDeck();
  if (currentMode === "work") return workWords;
  return wordsByLevel[currentLevel];
}

function getCurrentWord() {
  const list = getWords();
  if (!list.length) return null;
  if (currentIndex >= list.length) currentIndex = 0;
  return list[currentIndex];
}

function updateProgress() {
  const total = getWords().length;
  if (currentMode === "review") {
    levelCount.textContent = `${total} cart√µes de revis√£o (dif√≠ceis, m√°x. 10/dia)`;
  } else if (currentMode === "work") {
    levelCount.textContent = `${total} cart√µes - √Årea de Trabalho`;
  } else {
    levelCount.textContent = `${total} palavras no n√≠vel ${currentLevel}`;
  }
  progress.textContent = total ? `Carta ${currentIndex + 1} de ${total}` : "Nenhum cart√£o dispon√≠vel";
}

function isDifficult(wordText) {
  const set = difficult[currentLevel] ?? [];
  return set.includes(wordText);
}

function renderCard() {
  const word = getCurrentWord();
  if (!word) return;
  wordFront.textContent = word.word;
  translation.textContent = word.translation;
  pronunciation.textContent = word.pronunciation;
  example.textContent = word.example;
  starButton.disabled = currentMode !== "levels";
  starButton.classList.toggle("active", currentMode === "levels" && isDifficult(word.word));
  updateProgress();
}

function resetFlip() {
  card.classList.remove("flip");
}

function nextWord() {
  const total = getWords().length;
  if (!total) return;
  currentIndex = (currentIndex + 1) % total;
  positions[getPositionKey()] = currentIndex;
  persist();
  resetFlip();
  renderCard();
}

function prevWord() {
  const total = getWords().length;
  if (!total) return;
  currentIndex = (currentIndex - 1 + total) % total;
  positions[getPositionKey()] = currentIndex;
  persist();
  resetFlip();
  renderCard();
}

function speak() {
  const word = getCurrentWord();
  if (!word || !("speechSynthesis" in window)) return;
  speechSynthesis.cancel();
  const utterance = new SpeechSynthesisUtterance(word.word);
  utterance.lang = "en-US";
  speechSynthesis.speak(utterance);
}

function toggleDifficult() {
  const word = getCurrentWord();
  if (!word) return;
  if (currentMode !== "levels") return;
  const list = difficult[currentLevel] ?? [];
  const index = list.indexOf(word.word);
  if (index >= 0) {
    list.splice(index, 1);
  } else {
    list.push(word.word);
  }
  difficult[currentLevel] = list;
  persist();
  renderCard();
}

function changeLevel() {
  currentLevel = levelSelect.value;
  const total = getWords().length;
  currentIndex = positions[getPositionKey()] ?? 0;
  if (currentIndex >= total) currentIndex = 0;
  positions[getPositionKey()] = currentIndex;
  persist();
  resetFlip();
  renderCard();
}

function changeMode() {
  currentMode = modeSelect.value;
  levelSelect.style.display = currentMode === "levels" ? "block" : "none";
  if (currentMode === "levels") {
    currentIndex = positions[currentLevel] ?? 0;
  } else {
    currentIndex = positions[getPositionKey()] ?? 0;
  }
  persist();
  resetFlip();
  renderCard();
}

function getPositionKey() {
  return currentMode === "levels" ? currentLevel : currentMode;
}

function findWord(level, wordText) {
  const list = wordsByLevel[level] ?? [];
  return list.find((w) => w.word === wordText);
}

function getReviewDeck() {
  const today = new Date().toISOString().slice(0, 10);
  if (reviewState?.date === today && Array.isArray(reviewState.items)) {
    return reviewState.items
      .map((item) => findWord(item.level, item.word))
      .filter(Boolean);
  }

  const gathered = [];
  Object.keys(difficult).forEach((level) => {
    (difficult[level] ?? []).forEach((wordText) => {
      const match = findWord(level, wordText);
      if (match) gathered.push({ level, word: wordText });
    });
  });

  const seen = new Set();
  const unique = [];
  for (const entry of gathered) {
    const key = `${entry.level}|${entry.word}`;
    if (!seen.has(key)) {
      unique.push(entry);
      seen.add(key);
    }
  }

  const limited = unique.slice(0, 10);
  reviewState = { date: today, items: limited };
  persist();
  return limited.map((item) => findWord(item.level, item.word)).filter(Boolean);
}

function flipCard() {
  card.classList.toggle("flip");
}

document.addEventListener("keydown", (event) => {
  if (event.key === "ArrowRight") {
    nextWord();
  } else if (event.key === "ArrowLeft") {
    prevWord();
  } else if (event.key === " ") {
    event.preventDefault();
    flipCard();
  }
});

renderCard();

window.nextWord = nextWord;
window.prevWord = prevWord;
window.flipCard = flipCard;
window.changeLevel = changeLevel;
window.toggleDifficult = toggleDifficult;
window.speak = speak;
window.changeMode = changeMode;
</script>
  </body>
</html>
