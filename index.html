<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Flashcards de Ingl√™s</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --primary: #2563eb;
    --secondary: #64748b;
    --bg: #f8fafc;
    --card: #ffffff;
    --warning: #f59e0b;
}

body {
    margin: 0;
    font-family: "Segoe UI", system-ui, sans-serif;
    background: var(--bg);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.container {
    width: 100%;
    max-width: 380px;
    padding: 16px;
}

h1 {
    text-align: center;
    font-size: 20px;
    margin-bottom: 8px;
}

select {
    width: 100%;
    padding: 8px;
    border-radius: 10px;
    border: 1px solid #cbd5f5;
    margin-bottom: 10px;
}

.progress {
    font-size: 13px;
    text-align: center;
    color: var(--secondary);
    margin-bottom: 8px;
}

.card {
    width: 100%;
    height: 280px;
    perspective: 1200px;
    cursor: pointer;
}

.card-inner {
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.card.flip .card-inner {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    inset: 0;
    background: var(--card);
    border-radius: 16px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.12);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    backface-visibility: hidden;
}

.front {
    font-size: 34px;
    font-weight: 700;
    color: var(--primary);
}

.back {
    transform: rotateY(180deg);
    flex-direction: column;
    font-size: 15px;
    line-height: 1.5;
}

.controls {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-top: 12px;
}

button {
    padding: 10px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    cursor: pointer;
    background: var(--primary);
    color: #fff;
}

button.star {
    background: var(--warning);
}
</style>
</head>
<body>

<div class="container">
  <h1>Flashcards de Ingl√™s</h1>

  <select id="levelSelect" onchange="changeLevel()">
    <option value="A1">A1</option>
    <option value="A2">A2</option>
    <option value="B1">B1</option>
    <option value="B2">B2</option>
  </select>

  <div class="progress" id="levelCount"></div>
  <div class="progress" id="progress"></div>

  <div class="card" id="card" onclick="flipCard()">
    <div class="card-inner">
      <div class="card-face front" id="wordFront"></div>
      <div class="card-face back">
        <p><strong>Tradu√ß√£o:</strong> <span id="translation"></span></p>
        <p><strong>Pron√∫ncia:</strong> <span id="pronunciation"></span></p>
        <p><strong>Exemplo:</strong> <span id="example"></span></p>
      </div>
    </div>
  </div>

  <div class="controls">
    <button onclick="prevWord()">‚óÄ</button>
    <button onclick="speak()">üîä</button>
    <button class="star" onclick="toggleDifficult()">‚≠ê</button>
    <button onclick="nextWord()">‚ñ∂</button>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCJXzY7j0sdoUCzfwloS4YKp_XEylP25Ss",
  authDomain: "ingles-flashcards-96274.firebaseapp.com",
  projectId: "ingles-flashcards-96274",
  storageBucket: "ingles-flashcards-96274.firebasestorage.app",
  messagingSenderId: "699545668508",
  appId: "1:699545668508:web:002bc1ec7e7c1761249659"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const userId = localStorage.getItem("userId") ?? crypto.randomUUID();
localStorage.setItem("userId", userId);
const userRef = doc(db, "users", userId);

// ===== PALAVRAS A1 (estrutura corrigida) =====
// ===== PALAVRAS A1 | BLOCO 1 (1‚Äì100) =====
const wordsA1 = [
  { word:"the", translation:"o, a, os, as", pronunciation:"d√¢", example:"The house is big." },
  { word:"be", translation:"ser / estar", pronunciation:"b√≠", example:"I want to be happy." },
  { word:"and", translation:"e", pronunciation:"√™nd", example:"I like coffee and tea." },
  { word:"a", translation:"um / uma", pronunciation:"√¢", example:"I have a car." },
  { word:"to", translation:"para", pronunciation:"t√∫", example:"I want to learn." },
  { word:"have", translation:"ter", pronunciation:"h√©v", example:"I have time." },
  { word:"I", translation:"eu", pronunciation:"√°i", example:"I work here." },
  { word:"it", translation:"isso / isto", pronunciation:"√≠t", example:"It is good." },
  { word:"for", translation:"para", pronunciation:"f√≥r", example:"This is for you." },
  { word:"not", translation:"n√£o", pronunciation:"n√≥t", example:"I am not ready." },

  { word:"on", translation:"em / sobre", pronunciation:"√≥n", example:"The book is on the table." },
  { word:"with", translation:"com", pronunciation:"u√≠th", example:"I go with you." },
  { word:"he", translation:"ele", pronunciation:"h√≠", example:"He is my friend." },
  { word:"she", translation:"ela", pronunciation:"x√≠", example:"She is nice." },
  { word:"you", translation:"voc√™", pronunciation:"i√∫", example:"You are welcome." },
  { word:"do", translation:"fazer", pronunciation:"d√∫", example:"I do my job." },
  { word:"at", translation:"em", pronunciation:"√©t", example:"She is at home." },
  { word:"this", translation:"este / esta", pronunciation:"d√≠s", example:"This is my house." },
  { word:"but", translation:"mas", pronunciation:"b√¢t", example:"I like it, but it is expensive." },
  { word:"his", translation:"dele", pronunciation:"h√≠z", example:"This is his car." },

  { word:"by", translation:"por", pronunciation:"b√°i", example:"Sit by me." },
  { word:"from", translation:"de", pronunciation:"fr√≥m", example:"I am from Brazil." },
  { word:"they", translation:"eles", pronunciation:"dh√™i", example:"They are students." },
  { word:"we", translation:"n√≥s", pronunciation:"u√≠", example:"We work together." },
  { word:"say", translation:"dizer", pronunciation:"s√™i", example:"I say hello." },
  { word:"her", translation:"ela / dela", pronunciation:"h√¢r", example:"This is her bag." },
  { word:"or", translation:"ou", pronunciation:"√≥r", example:"Tea or coffee?" },
  { word:"an", translation:"um / uma", pronunciation:"√©n", example:"I have an idea." },
  { word:"will", translation:"vai", pronunciation:"u√≠l", example:"I will call you." },
  { word:"my", translation:"meu", pronunciation:"m√°i", example:"My name is Ana." },

  { word:"one", translation:"um", pronunciation:"u√£n", example:"I have one sister." },
  { word:"all", translation:"todos", pronunciation:"√≥l", example:"All people need food." },
  { word:"would", translation:"iria", pronunciation:"u√∫d", example:"I would like water." },
  { word:"there", translation:"l√°", pronunciation:"dh√©r", example:"There is a problem." },
  { word:"their", translation:"deles", pronunciation:"dh√©r", example:"Their house is new." },
  { word:"what", translation:"o que", pronunciation:"u√≥t", example:"What is your name?" },
  { word:"so", translation:"ent√£o", pronunciation:"s√¥u", example:"I am tired, so I rest." },
  { word:"up", translation:"para cima", pronunciation:"√¢p", example:"Stand up, please." },
  { word:"out", translation:"fora", pronunciation:"√°ut", example:"Go out now." },
  { word:"if", translation:"se", pronunciation:"√≠f", example:"If you want, come." },

  { word:"about", translation:"sobre", pronunciation:"ab√°ut", example:"Talk about work." },
  { word:"who", translation:"quem", pronunciation:"r√∫", example:"Who is she?" },
  { word:"get", translation:"pegar", pronunciation:"gu√©t", example:"I get the bus." },
  { word:"which", translation:"qual", pronunciation:"u√≠tch", example:"Which one?" },
  { word:"go", translation:"ir", pronunciation:"g√¥u", example:"I go to work." },
  { word:"me", translation:"me", pronunciation:"m√≠", example:"Call me later." },
  { word:"when", translation:"quando", pronunciation:"u√©n", example:"When do you work?" },
  { word:"make", translation:"fazer", pronunciation:"m√™ik", example:"I make dinner." },
  { word:"can", translation:"poder", pronunciation:"k√©n", example:"I can help you." },
  { word:"like", translation:"gostar", pronunciation:"l√°ik", example:"I like music." },

  { word:"time", translation:"tempo", pronunciation:"t√°im", example:"I have time." },
  { word:"no", translation:"n√£o", pronunciation:"n√¥u", example:"No problem." },
  { word:"just", translation:"apenas", pronunciation:"dj√¢st", example:"Just a minute." },
  { word:"him", translation:"ele", pronunciation:"h√≠m", example:"Talk to him." },
  { word:"know", translation:"saber", pronunciation:"n√¥u", example:"I know her." },
  { word:"take", translation:"pegar", pronunciation:"t√™ik", example:"Take this." },
  { word:"people", translation:"pessoas", pronunciation:"p√≠pol", example:"People are kind." },
  { word:"into", translation:"dentro", pronunciation:"√≠ntu", example:"Come into the room." },
  { word:"year", translation:"ano", pronunciation:"i√¢r", example:"This year is good." },
  { word:"learn", translation:"aprender", pronunciation:"l√¢rn", example:"I learn fast." },

  // ===== PALAVRAS A1 | BLOCO 2 (101‚Äì200) =====
  { word:"day", translation:"dia", pronunciation:"d√™i", example:"Today is a good day." },
  { word:"night", translation:"noite", pronunciation:"n√°it", example:"Good night." },
  { word:"morning", translation:"manh√£", pronunciation:"m√≥rnin", example:"Good morning." },
  { word:"afternoon", translation:"tarde", pronunciation:"√©ftarn√∫n", example:"Good afternoon." },
  { word:"man", translation:"homem", pronunciation:"m√©n", example:"The man is tall." },
  { word:"woman", translation:"mulher", pronunciation:"u√∫man", example:"The woman smiles." },
  { word:"child", translation:"crian√ßa", pronunciation:"tch√°ild", example:"The child is happy." },
  { word:"friend", translation:"amigo", pronunciation:"fr√©nd", example:"She is my friend." },
  { word:"family", translation:"fam√≠lia", pronunciation:"f√°mili", example:"My family is here." },
  { word:"home", translation:"casa", pronunciation:"r√¥um", example:"I am home." },

  { word:"house", translation:"casa", pronunciation:"h√°us", example:"The house is new." },
  { word:"school", translation:"escola", pronunciation:"sk√∫l", example:"The school is big." },
  { word:"teacher", translation:"professor", pronunciation:"t√≠tch√¢r", example:"The teacher helps me." },
  { word:"student", translation:"aluno", pronunciation:"sti√∫dant", example:"I am a student." },
  { word:"class", translation:"aula", pronunciation:"kl√©ss", example:"The class starts now." },
  { word:"desk", translation:"mesa", pronunciation:"d√©sk", example:"My desk is here." },
  { word:"book", translation:"livro", pronunciation:"b√ªk", example:"This book is new." },
  { word:"pen", translation:"caneta", pronunciation:"p√©n", example:"I have a pen." },
  { word:"paper", translation:"papel", pronunciation:"p√™ip√¢r", example:"Write on paper." },

  { word:"job", translation:"emprego", pronunciation:"dj√≥b", example:"I like my job." },
  { word:"work", translation:"trabalho", pronunciation:"u√¥rk", example:"I go to work." },
  { word:"office", translation:"escrit√≥rio", pronunciation:"√≥fiss", example:"The office is big." },
  { word:"company", translation:"empresa", pronunciation:"k√¢mpani", example:"The company grows." },
  { word:"money", translation:"dinheiro", pronunciation:"m√¢ni", example:"I need money." },
  { word:"price", translation:"pre√ßo", pronunciation:"pr√°is", example:"The price is high." },
  { word:"cheap", translation:"barato", pronunciation:"tch√≠p", example:"This is cheap." },
  { word:"expensive", translation:"caro", pronunciation:"iksp√©nsiv", example:"This is expensive." },
  { word:"pay", translation:"pagar", pronunciation:"p√™i", example:"I pay now." },
  { word:"buy", translation:"comprar", pronunciation:"b√°i", example:"I buy food." },

  { word:"food", translation:"comida", pronunciation:"f√∫d", example:"The food is good." },
  { word:"water", translation:"√°gua", pronunciation:"u√≥rer", example:"Drink water." },
  { word:"coffee", translation:"caf√©", pronunciation:"k√≥fi", example:"I drink coffee." },
  { word:"tea", translation:"ch√°", pronunciation:"t√≠", example:"I like tea." },
  { word:"bread", translation:"p√£o", pronunciation:"br√©d", example:"I eat bread." },
  { word:"milk", translation:"leite", pronunciation:"m√≠lki", example:"I drink milk." },
  { word:"meat", translation:"carne", pronunciation:"m√≠t", example:"The meat is hot." },
  { word:"rice", translation:"arroz", pronunciation:"r√°is", example:"Rice is common." },
  { word:"fruit", translation:"fruta", pronunciation:"fr√∫t", example:"Fruit is healthy." },
  { word:"vegetable", translation:"legume", pronunciation:"v√©djitabl", example:"Vegetables are good." },

  { word:"hungry", translation:"com fome", pronunciation:"h√¢ngri", example:"I am hungry." },
  { word:"thirsty", translation:"com sede", pronunciation:"th√¢rsti", example:"I am thirsty." },
  { word:"happy", translation:"feliz", pronunciation:"r√©pi", example:"I am happy." },
  { word:"sad", translation:"triste", pronunciation:"s√©d", example:"She is sad." },
  { word:"tired", translation:"cansado", pronunciation:"t√°ierd", example:"I am tired." },
  { word:"sick", translation:"doente", pronunciation:"s√≠k", example:"I am sick." },
  { word:"good", translation:"bom", pronunciation:"g√∫d", example:"This is good." },
  { word:"bad", translation:"ruim", pronunciation:"b√©d", example:"This is bad." },
  { word:"easy", translation:"f√°cil", pronunciation:"√≠zi", example:"This is easy." },
  { word:"hard", translation:"dif√≠cil", pronunciation:"h√°rd", example:"This is hard." },

  { word:"today", translation:"hoje", pronunciation:"tud√™i", example:"Today is sunny." },
  { word:"tomorrow", translation:"amanh√£", pronunciation:"tum√≥rrou", example:"Tomorrow I work." },
  { word:"yesterday", translation:"ontem", pronunciation:"i√©st√¢rdei", example:"Yesterday was good." },
  { word:"week", translation:"semana", pronunciation:"u√≠ik", example:"This week is busy." },
  { word:"month", translation:"m√™s", pronunciation:"m√¢nth", example:"This month." },
  { word:"year", translation:"ano", pronunciation:"i√¢r", example:"This year." },
  { word:"always", translation:"sempre", pronunciation:"√≥lweiz", example:"I am always here." },
  { word:"sometimes", translation:"√†s vezes", pronunciation:"s√¢mtaims", example:"Sometimes I cook." },
  { word:"often", translation:"frequentemente", pronunciation:"√≥fen", example:"I often study." },
  { word:"usually", translation:"geralmente", pronunciation:"i√∫ju√¢li", example:"I usually work." },

  // ===== PALAVRAS A1 | BLOCO 3 (201‚Äì300) =====
  { word:"car", translation:"carro", pronunciation:"k√°r", example:"My car is red." },
  { word:"bus", translation:"√¥nibus", pronunciation:"b√¢s", example:"I take the bus." },
  { word:"train", translation:"trem", pronunciation:"tr√™in", example:"The train is fast." },
  { word:"street", translation:"rua", pronunciation:"str√≠t", example:"This street is long." },
  { word:"road", translation:"estrada", pronunciation:"r√¥ud", example:"The road is long." },
  { word:"city", translation:"cidade", pronunciation:"s√≠ti", example:"My city is big." },
  { word:"town", translation:"cidade pequena", pronunciation:"t√°un", example:"This town is quiet." },
  { word:"country", translation:"pa√≠s", pronunciation:"k√¢ntri", example:"I love my country." },
  { word:"place", translation:"lugar", pronunciation:"pl√™is", example:"This is a nice place." },
  { word:"area", translation:"√°rea", pronunciation:"√™ria", example:"This area is safe." },

  { word:"store", translation:"loja", pronunciation:"st√≥r", example:"The store is open." },
  { word:"shop", translation:"loja", pronunciation:"x√≥p", example:"The shop is small." },
  { word:"market", translation:"mercado", pronunciation:"m√°rkit", example:"Go to the market." },
  { word:"supermarket", translation:"supermercado", pronunciation:"s√∫per-m√°rkit", example:"The supermarket is busy." },
  { word:"restaurant", translation:"restaurante", pronunciation:"r√©strant", example:"The restaurant is nice." },
  { word:"bar", translation:"bar", pronunciation:"b√°r", example:"The bar is open." },
  { word:"cafe", translation:"cafeteria", pronunciation:"kaf√©", example:"The cafe is cozy." },
  { word:"hotel", translation:"hotel", pronunciation:"r√¥t√©l", example:"The hotel is nice." },
  { word:"hostel", translation:"albergue", pronunciation:"r√≥stel", example:"The hostel is cheap." },
  { word:"airport", translation:"aeroporto", pronunciation:"√©rp√≥rt", example:"The airport is far." },

  { word:"station", translation:"esta√ß√£o", pronunciation:"st√™ichan", example:"The station is busy." },
  { word:"stop", translation:"ponto / parar", pronunciation:"st√≥p", example:"The bus stop is there." },
  { word:"corner", translation:"esquina", pronunciation:"k√≥rner", example:"On the corner." },
  { word:"center", translation:"centro", pronunciation:"s√©nter", example:"The city center." },
  { word:"park", translation:"parque", pronunciation:"p√°rk", example:"The park is green." },
  { word:"square", translation:"pra√ßa", pronunciation:"sku√©r", example:"The square is full." },
  { word:"bridge", translation:"ponte", pronunciation:"br√≠dj", example:"Cross the bridge." },
  { word:"river", translation:"rio", pronunciation:"r√≠v√¢r", example:"The river is long." },
  { word:"sea", translation:"mar", pronunciation:"s√≠", example:"The sea is blue." },
  { word:"beach", translation:"praia", pronunciation:"b√≠tch", example:"The beach is beautiful." },

  { word:"mountain", translation:"montanha", pronunciation:"m√°unten", example:"The mountain is high." },
  { word:"forest", translation:"floresta", pronunciation:"f√≥rest", example:"The forest is big." },
  { word:"island", translation:"ilha", pronunciation:"√°iland", example:"The island is small." },
  { word:"lake", translation:"lago", pronunciation:"l√™ik", example:"The lake is calm." },
  { word:"building", translation:"pr√©dio", pronunciation:"b√≠ldin", example:"The building is tall." },
  { word:"apartment", translation:"apartamento", pronunciation:"√¢p√°rtment", example:"I live in an apartment." },
  { word:"room", translation:"quarto", pronunciation:"r√ªm", example:"The room is clean." },
  { word:"door", translation:"porta", pronunciation:"d√≥r", example:"Open the door." },
  { word:"window", translation:"janela", pronunciation:"u√≠ndou", example:"Close the window." },
  { word:"bathroom", translation:"banheiro", pronunciation:"b√°thrum", example:"The bathroom is here." },

  { word:"bedroom", translation:"quarto", pronunciation:"b√©d-rum", example:"The bedroom is quiet." },
  { word:"kitchen", translation:"cozinha", pronunciation:"k√≠tchen", example:"The kitchen is clean." },
  { word:"living", translation:"sala", pronunciation:"l√≠vin", example:"The living room is big." },
  { word:"floor", translation:"ch√£o / andar", pronunciation:"fl√≥r", example:"The floor is clean." },
  { word:"wall", translation:"parede", pronunciation:"u√≥l", example:"The wall is white." },
  { word:"roof", translation:"telhado", pronunciation:"r√∫f", example:"The roof is new." },
  { word:"table", translation:"mesa", pronunciation:"t√™ibol", example:"The table is big." },
  { word:"chair", translation:"cadeira", pronunciation:"tch√©r", example:"The chair is broken." },
  { word:"bed", translation:"cama", pronunciation:"b√©d", example:"The bed is comfortable." },
  { word:"light", translation:"luz", pronunciation:"l√°it", example:"Turn on the light." },

  { word:"dark", translation:"escuro", pronunciation:"d√°rk", example:"It is dark." },
  { word:"clean", translation:"limpo", pronunciation:"kl√≠n", example:"The room is clean." },
  { word:"dirty", translation:"sujo", pronunciation:"d√¢rti", example:"The floor is dirty." },
  { word:"open", translation:"aberto", pronunciation:"√¥upen", example:"The store is open." },
  { word:"closed", translation:"fechado", pronunciation:"kl√¥uzd", example:"The shop is closed." },
  { word:"near", translation:"perto", pronunciation:"n√≠√¢r", example:"It is near." },
  { word:"far", translation:"longe", pronunciation:"f√°r", example:"It is far." },
  { word:"inside", translation:"dentro", pronunciation:"ins√°id", example:"Come inside." },
  { word:"outside", translation:"fora", pronunciation:"√°uts√°id", example:"Stay outside." },

  // ===== PALAVRAS A1 | BLOCO 4 (301‚Äì400) =====
  { word:"read", translation:"ler", pronunciation:"r√≠d", example:"I read a book." },
  { word:"write", translation:"escrever", pronunciation:"r√°it", example:"I write my name." },
  { word:"listen", translation:"ouvir", pronunciation:"l√≠sen", example:"Listen to me." },
  { word:"watch", translation:"assistir", pronunciation:"u√≥tch", example:"I watch TV." },
  { word:"speak", translation:"falar", pronunciation:"sp√≠k", example:"I speak English." },
  { word:"eat", translation:"comer", pronunciation:"√≠t", example:"I eat lunch." },
  { word:"drink", translation:"beber", pronunciation:"dr√≠nk", example:"I drink water." },
  { word:"sleep", translation:"dormir", pronunciation:"sl√≠p", example:"I sleep early." },
  { word:"wake", translation:"acordar", pronunciation:"u√™ik", example:"I wake up early." },
  { word:"open", translation:"abrir", pronunciation:"√¥upen", example:"Open the door." },

  { word:"close", translation:"fechar", pronunciation:"kl√¥uz", example:"Close the door." },
  { word:"start", translation:"come√ßar", pronunciation:"st√°rt", example:"Start now." },
  { word:"finish", translation:"terminar", pronunciation:"f√≠nish", example:"Finish the work." },
  { word:"play", translation:"brincar", pronunciation:"pl√™i", example:"Children play outside." },
  { word:"run", translation:"correr", pronunciation:"r√¢n", example:"I run every day." },
  { word:"walk", translation:"andar", pronunciation:"u√≥k", example:"I walk home." },
  { word:"stop", translation:"parar", pronunciation:"st√≥p", example:"Stop here." },
  { word:"sit", translation:"sentar", pronunciation:"s√≠t", example:"Sit down, please." },
  { word:"stand", translation:"ficar em p√©", pronunciation:"st√©nd", example:"Stand up." },
  { word:"wait", translation:"esperar", pronunciation:"u√™it", example:"Wait a moment." },

  { word:"work", translation:"trabalhar", pronunciation:"u√¥rk", example:"I work every day." },
  { word:"study", translation:"estudar", pronunciation:"st√¢di", example:"I study English." },
  { word:"teach", translation:"ensinar", pronunciation:"t√≠tch", example:"Teachers teach students." },
  { word:"help", translation:"ajudar", pronunciation:"h√©lp", example:"Help me please." },
  { word:"try", translation:"tentar", pronunciation:"tr√°i", example:"Try again." },
  { word:"use", translation:"usar", pronunciation:"i√∫s", example:"Use the computer." },
  { word:"need", translation:"precisar", pronunciation:"n√≠d", example:"I need water." },
  { word:"want", translation:"querer", pronunciation:"u√¢nt", example:"I want coffee." },
  { word:"love", translation:"amar", pronunciation:"l√¢v", example:"I love my family." },
  { word:"live", translation:"viver", pronunciation:"l√≠v", example:"I live here." },

  { word:"move", translation:"mudar", pronunciation:"m√∫v", example:"I move tomorrow." },
  { word:"travel", translation:"viajar", pronunciation:"tr√©vel", example:"I travel a lot." },
  { word:"drive", translation:"dirigir", pronunciation:"dr√°iv", example:"I drive to work." },
  { word:"arrive", translation:"chegar", pronunciation:"√¢r√°iv", example:"I arrive early." },
  { word:"leave", translation:"sair", pronunciation:"l√≠v", example:"I leave now." },
  { word:"stay", translation:"ficar", pronunciation:"st√™i", example:"Stay here." },
  { word:"buy", translation:"comprar", pronunciation:"b√°i", example:"I buy bread." },
  { word:"sell", translation:"vender", pronunciation:"s√©l", example:"They sell food." },
  { word:"pay", translation:"pagar", pronunciation:"p√™i", example:"I pay cash." },
  { word:"save", translation:"economizar", pronunciation:"s√™iv", example:"I save money." },

  { word:"ask", translation:"perguntar", pronunciation:"√°sk", example:"Ask a question." },
  { word:"answer", translation:"responder", pronunciation:"√°ns√¢r", example:"Answer me." },
  { word:"call", translation:"ligar", pronunciation:"k√≥l", example:"Call me later." },
  { word:"meet", translation:"encontrar", pronunciation:"m√≠t", example:"Meet me here." },
  { word:"bring", translation:"trazer", pronunciation:"br√≠ng", example:"Bring water." },
  { word:"take", translation:"levar", pronunciation:"t√™ik", example:"Take this." },
  { word:"give", translation:"dar", pronunciation:"gu√≠v", example:"Give me that." },
  { word:"find", translation:"encontrar", pronunciation:"f√°ind", example:"Find the key." },
  { word:"lose", translation:"perder", pronunciation:"l√∫z", example:"I lose my phone." },
  { word:"keep", translation:"manter", pronunciation:"k√≠p", example:"Keep calm." },

  { word:"think", translation:"pensar", pronunciation:"th√≠nk", example:"I think so." },
  { word:"remember", translation:"lembrar", pronunciation:"rim√©mber", example:"Remember me." },
  { word:"forget", translation:"esquecer", pronunciation:"forg√©t", example:"Forget it." },
  { word:"understand", translation:"entender", pronunciation:"√¢nd√™rst√©nd", example:"I understand you." },
  { word:"waiter", translation:"gar√ßom", pronunciation:"u√™iter", example:"The waiter helps us." },
  { word:"customer", translation:"cliente", pronunciation:"k√¢st√¥m√¢r", example:"The customer is happy." },
  { word:"order", translation:"pedir", pronunciation:"√≥rder", example:"I order food." },
  { word:"cook", translation:"cozinhar", pronunciation:"k√∫k", example:"I cook dinner." },
  { word:"clean", translation:"limpar", pronunciation:"kl√≠n", example:"I clean the house." },
  { word:"wash", translation:"lavar", pronunciation:"u√≥sh", example:"Wash your hands." },

  // ===== PALAVRAS A1 | BLOCO 5 (401‚Äì500) =====
  { word:"shirt", translation:"camisa", pronunciation:"sh√¢rt", example:"This shirt is blue." },
  { word:"pants", translation:"cal√ßa", pronunciation:"p√©nts", example:"My pants are black." },
  { word:"shoes", translation:"sapatos", pronunciation:"sh√∫z", example:"My shoes are new." },
  { word:"dress", translation:"vestido", pronunciation:"dr√©s", example:"She wears a dress." },
  { word:"hat", translation:"chap√©u", pronunciation:"h√©t", example:"I wear a hat." },
  { word:"bag", translation:"bolsa", pronunciation:"b√©g", example:"My bag is heavy." },
  { word:"phone", translation:"telefone", pronunciation:"f√¥un", example:"My phone is here." },
  { word:"computer", translation:"computador", pronunciation:"compi√∫ter", example:"I use a computer." },
  { word:"internet", translation:"internet", pronunciation:"√≠nt√¢rn√©t", example:"The internet is slow." },
  { word:"email", translation:"e-mail", pronunciation:"√≠m√™il", example:"Send an email." },

  { word:"picture", translation:"foto", pronunciation:"p√≠ktch√¢r", example:"This picture is old." },
  { word:"music", translation:"m√∫sica", pronunciation:"mi√∫zik", example:"I like music." },
  { word:"movie", translation:"filme", pronunciation:"m√∫vi", example:"The movie is good." },
  { word:"newspaper", translation:"jornal", pronunciation:"ni√∫sp√™ip√¢r", example:"I read the newspaper." },
  { word:"radio", translation:"r√°dio", pronunciation:"r√™idi√¥", example:"The radio is on." },
  { word:"tv", translation:"televis√£o", pronunciation:"t√≠v√≠", example:"I watch TV." },
  { word:"game", translation:"jogo", pronunciation:"g√™im", example:"This game is fun." },
  { word:"sport", translation:"esporte", pronunciation:"sp√≥rt", example:"I like sport." },
  { word:"team", translation:"time", pronunciation:"t√≠m", example:"My team wins." },
  { word:"player", translation:"jogador", pronunciation:"pl√™i√¢r", example:"He is a player." },

  { word:"color", translation:"cor", pronunciation:"k√¢l√¢r", example:"Blue is my favorite color." },
  { word:"red", translation:"vermelho", pronunciation:"r√©d", example:"The car is red." },
  { word:"blue", translation:"azul", pronunciation:"bl√∫", example:"The sky is blue." },
  { word:"green", translation:"verde", pronunciation:"gr√≠n", example:"Green is nice." },
  { word:"yellow", translation:"amarelo", pronunciation:"i√©lou", example:"The sun is yellow." },
  { word:"black", translation:"preto", pronunciation:"bl√©k", example:"Black shoes." },
  { word:"white", translation:"branco", pronunciation:"u√°it", example:"The wall is white." },
  { word:"brown", translation:"marrom", pronunciation:"br√°un", example:"Brown bag." },
  { word:"pink", translation:"rosa", pronunciation:"p√≠nk", example:"Pink dress." },
  { word:"gray", translation:"cinza", pronunciation:"gr√©i", example:"Gray car." },

  { word:"number", translation:"n√∫mero", pronunciation:"n√¢mb√¢r", example:"My number is one." },
  { word:"first", translation:"primeiro", pronunciation:"f√¢rst", example:"First time." },
  { word:"second", translation:"segundo", pronunciation:"s√©k√¢nd", example:"Second place." },
  { word:"third", translation:"terceiro", pronunciation:"th√¢rd", example:"Third day." },
  { word:"last", translation:"√∫ltimo", pronunciation:"l√°st", example:"Last day." },
  { word:"many", translation:"muitos", pronunciation:"m√©ni", example:"Many people." },
  { word:"few", translation:"poucos", pronunciation:"fi√∫", example:"Few friends." },
  { word:"more", translation:"mais", pronunciation:"m√≥r", example:"I want more." },
  { word:"less", translation:"menos", pronunciation:"l√©s", example:"Less sugar." },
  { word:"same", translation:"mesmo", pronunciation:"s√™im", example:"Same place." },

  { word:"different", translation:"diferente", pronunciation:"d√≠f√¢r√™nt", example:"Different idea." },
  { word:"right", translation:"direito / certo", pronunciation:"r√°it", example:"Turn right." },
  { word:"left", translation:"esquerdo", pronunciation:"l√©ft", example:"Turn left." },
  { word:"again", translation:"novamente", pronunciation:"√¢g√™n", example:"Try again." },
  { word:"together", translation:"juntos", pronunciation:"tug√©ther", example:"We work together." },
  { word:"alone", translation:"sozinho", pronunciation:"√¢l√¥un", example:"I am alone." }
];

// ===== PALAVRAS A2 | BLOCO 1 (1‚Äì100) =====
const wordsA2 = [
  { word:"because", translation:"porque", pronunciation:"bic√≥z", example:"I stayed home because it rained." },
  { word:"before", translation:"antes", pronunciation:"bif√≥r", example:"Wash your hands before dinner." },
  { word:"after", translation:"depois", pronunciation:"√©ft√¢r", example:"After work, I rest." },
  { word:"during", translation:"durante", pronunciation:"di√∫rin", example:"I studied during the night." },
  { word:"while", translation:"enquanto", pronunciation:"u√°il", example:"I listen to music while I work." },

  { word:"again", translation:"novamente", pronunciation:"√¢g√©n", example:"Please say it again." },
  { word:"already", translation:"j√°", pronunciation:"√≥lr√™di", example:"I already finished." },
  { word:"still", translation:"ainda", pronunciation:"st√≠l", example:"I am still here." },
  { word:"yet", translation:"ainda", pronunciation:"i√©t", example:"Not yet." },
  { word:"soon", translation:"em breve", pronunciation:"s√∫n", example:"See you soon." },

  { word:"early", translation:"cedo", pronunciation:"√¢rli", example:"I wake up early." },
  { word:"late", translation:"tarde", pronunciation:"l√™it", example:"She arrived late." },
  { word:"often", translation:"frequentemente", pronunciation:"√≥fen", example:"I often read." },
  { word:"sometimes", translation:"√†s vezes", pronunciation:"s√¢mtaims", example:"Sometimes I cook." },
  { word:"usually", translation:"geralmente", pronunciation:"i√∫ju√¢li", example:"I usually work at home." },

  { word:"different", translation:"diferente", pronunciation:"d√≠f√¢r√™nt", example:"This is different." },
  { word:"same", translation:"igual", pronunciation:"s√™im", example:"We have the same idea." },
  { word:"easy", translation:"f√°cil", pronunciation:"√≠zi", example:"This test is easy." },
  { word:"difficult", translation:"dif√≠cil", pronunciation:"d√≠fik√¢lt", example:"English is difficult." },
  { word:"possible", translation:"poss√≠vel", pronunciation:"p√≥ssib√¢l", example:"It is possible." },

  { word:"important", translation:"importante", pronunciation:"imp√≥rtant", example:"This is important." },
  { word:"necessary", translation:"necess√°rio", pronunciation:"n√©c√©ss√¢ri", example:"It is necessary." },
  { word:"free", translation:"livre / gr√°tis", pronunciation:"fr√≠", example:"I am free today." },
  { word:"busy", translation:"ocupado", pronunciation:"b√≠zi", example:"I am busy now." },
  { word:"ready", translation:"pronto", pronunciation:"r√©d√≠", example:"I am ready." },

  { word:"try", translation:"tentar", pronunciation:"tr√°i", example:"Try again." },
  { word:"decide", translation:"decidir", pronunciation:"dis√°id", example:"I decided to go." },
  { word:"plan", translation:"planejar", pronunciation:"pl√©n", example:"I plan my day." },
  { word:"choose", translation:"escolher", pronunciation:"tch√∫z", example:"Choose one." },
  { word:"agree", translation:"concordar", pronunciation:"√¢gr√≠", example:"I agree with you." },

  { word:"disagree", translation:"discordar", pronunciation:"dis√¢gr√≠", example:"I disagree." },
  { word:"believe", translation:"acreditar", pronunciation:"bil√≠v", example:"I believe you." },
  { word:"hope", translation:"esperar", pronunciation:"r√¥up", example:"I hope so." },
  { word:"feel", translation:"sentir", pronunciation:"f√≠l", example:"I feel good." },
  { word:"seem", translation:"parecer", pronunciation:"s√≠m", example:"It seems easy." },

  { word:"happen", translation:"acontecer", pronunciation:"r√©pen", example:"What happened?" },
  { word:"change", translation:"mudar", pronunciation:"tch√™indj", example:"Things change." },
  { word:"improve", translation:"melhorar", pronunciation:"impr√∫v", example:"I want to improve." },
  { word:"continue", translation:"continuar", pronunciation:"cont√≠niu", example:"Continue studying." },
  { word:"stop", translation:"parar", pronunciation:"st√≥p", example:"Stop talking." },

  { word:"travel", translation:"viajar", pronunciation:"tr√°v√¢l", example:"I like to travel." },
  { word:"visit", translation:"visitar", pronunciation:"v√≠zit", example:"I visit my family." },
  { word:"arrive", translation:"chegar", pronunciation:"√¢r√°iv", example:"I arrive early." },
  { word:"leave", translation:"sair", pronunciation:"l√≠v", example:"I leave tomorrow." },
  { word:"stay", translation:"ficar", pronunciation:"st√™i", example:"I stay home." },

  { word:"problem", translation:"problema", pronunciation:"pr√≥bl√™m", example:"There is a problem." },
  { word:"solution", translation:"solu√ß√£o", pronunciation:"sol√∫sh√¢n", example:"We found a solution." },
  { word:"question", translation:"pergunta", pronunciation:"ku√©stchan", example:"I have a question." },
  { word:"answer", translation:"resposta", pronunciation:"√°ns√¢r", example:"The answer is correct." },
  { word:"example", translation:"exemplo", pronunciation:"igz√©mp√¢l", example:"This is an example." },

  { word:"job", translation:"emprego", pronunciation:"dj√≥b", example:"I need a job." },
  { word:"career", translation:"carreira", pronunciation:"car√≠√¢r", example:"She likes her career." },
  { word:"experience", translation:"experi√™ncia", pronunciation:"iksp√≠ri√¢ns", example:"I have experience." },
  { word:"skill", translation:"habilidade", pronunciation:"sk√≠l", example:"This is an important skill." },
  { word:"salary", translation:"sal√°rio", pronunciation:"s√°l√¢ri", example:"The salary is good." },

  { word:"health", translation:"sa√∫de", pronunciation:"r√©lt", example:"Health is important." },
  { word:"exercise", translation:"exerc√≠cio", pronunciation:"√©kss√¢rs√°iz", example:"I do exercise." },
  { word:"diet", translation:"dieta", pronunciation:"d√°iet", example:"I follow a diet." },
  { word:"energy", translation:"energia", pronunciation:"√©n√¢rgi", example:"I have energy." },
  { word:"stress", translation:"estresse", pronunciation:"str√©s", example:"Stress is bad." },

  // ===== PALAVRAS A2 | BLOCO 2 (101‚Äì200) =====
  { word:"however", translation:"por√©m", pronunciation:"rau√©v√¢r", example:"I was tired; however, I finished." },
  { word:"therefore", translation:"portanto", pronunciation:"dh√©rf√≥r", example:"It rained; therefore, we stayed." },
  { word:"although", translation:"embora", pronunciation:"√≥l-dhou", example:"Although tired, I worked." },
  { word:"instead", translation:"em vez disso", pronunciation:"inst√©d", example:"Stay here instead." },
  { word:"especially", translation:"especialmente", pronunciation:"isp√©sh√¢li", example:"Especially today." },

  { word:"quite", translation:"bem / bastante", pronunciation:"ku√°it", example:"It is quite easy." },
  { word:"rather", translation:"em vez de / bastante", pronunciation:"r√°dher", example:"Rather stay home." },
  { word:"enough", translation:"suficiente", pronunciation:"in√¢f", example:"It is enough." },
  { word:"almost", translation:"quase", pronunciation:"√≥lmost", example:"Almost done." },
  { word:"exactly", translation:"exatamente", pronunciation:"igz√©ktli", example:"Exactly right." },

  { word:"likely", translation:"prov√°vel", pronunciation:"l√°ikli", example:"It is likely." },
  { word:"possible", translation:"poss√≠vel", pronunciation:"p√≥ssib√¢l", example:"It is possible." },
  { word:"available", translation:"dispon√≠vel", pronunciation:"√¢v√™il√¢b√¢l", example:"I am available." },
  { word:"private", translation:"privado", pronunciation:"pr√°ivet", example:"Private message." },
  { word:"public", translation:"p√∫blico", pronunciation:"p√¢blik", example:"Public place." },

  { word:"increase", translation:"aumentar", pronunciation:"inkr√≠s", example:"Prices increase." },
  { word:"reduce", translation:"reduzir", pronunciation:"rid√≠us", example:"Reduce costs." },
  { word:"control", translation:"controlar", pronunciation:"contr√¥l", example:"Control expenses." },
  { word:"manage", translation:"gerenciar", pronunciation:"m√©n√¢dj", example:"Manage time." },
  { word:"develop", translation:"desenvolver", pronunciation:"div√©l√¢p", example:"Develop skills." },

  { word:"create", translation:"criar", pronunciation:"kri√™it", example:"Create a plan." },
  { word:"build", translation:"construir", pronunciation:"b√≠ld", example:"Build a house." },
  { word:"fix", translation:"consertar", pronunciation:"f√≠ks", example:"Fix the problem." },
  { word:"improve", translation:"melhorar", pronunciation:"impr√∫v", example:"Improve results." },
  { word:"support", translation:"apoiar", pronunciation:"sap√≥rt", example:"Support the team." },

  { word:"customer", translation:"cliente", pronunciation:"k√¢st√¥m√¢r", example:"The customer complained." },
  { word:"client", translation:"cliente", pronunciation:"kl√°i√¢nt", example:"The client agreed." },
  { word:"manager", translation:"gerente", pronunciation:"m√©n√¢djer", example:"The manager decided." },
  { word:"employee", translation:"funcion√°rio", pronunciation:"empl√¥i√≠", example:"The employee arrived." },
  { word:"boss", translation:"chefe", pronunciation:"b√≥s", example:"My boss called." },

  { word:"meeting", translation:"reuni√£o", pronunciation:"m√≠ting", example:"The meeting starts." },
  { word:"project", translation:"projeto", pronunciation:"pr√≥dj√©kt", example:"The project ended." },
  { word:"deadline", translation:"prazo", pronunciation:"d√©dl√°ine", example:"Meet the deadline." },
  { word:"task", translation:"tarefa", pronunciation:"t√°sk", example:"Finish the task." },
  { word:"result", translation:"resultado", pronunciation:"riz√¢lt", example:"Good result." },

  { word:"risk", translation:"risco", pronunciation:"r√≠sk", example:"There is a risk." },
  { word:"mistake", translation:"erro", pronunciation:"mist√™ik", example:"It was a mistake." },
  { word:"success", translation:"sucesso", pronunciation:"s√¢ks√©s", example:"Great success." },
  { word:"failure", translation:"fracasso", pronunciation:"f√™ilior", example:"Learn from failure." },
  { word:"progress", translation:"progresso", pronunciation:"pr√≥gress", example:"Good progress." }
];

const wordsByLevel = { A1: wordsA1, A2: wordsA2, B1: [], B2: [] };

let state = { index: 0, studied: 0, difficult: [], level: "A1" };
let currentWords = [];

async function loadState() {
  const snap = await getDoc(userRef);
  if (snap.exists()) state = snap.data();
  loadLevel(state.level);
}

async function saveState() {
  await setDoc(userRef, state);
}

function loadLevel(level) {
  state.level = level;
  state.index = 0;
  currentWords = wordsByLevel[level] || [];
  saveState();
  loadWord();
}

function loadWord() {
  if (!currentWords.length) return;
  const w = currentWords[state.index % currentWords.length];
  wordFront.innerText = w.word;
  translation.innerText = w.translation;
  pronunciation.innerText = w.pronunciation;
  example.innerText = w.example;
  progress.innerText = `N√≠vel ${state.level} | Estudadas: ${state.studied}`;
  levelCount.innerText = `Palavras ‚Äî A1: ${wordsA1.length} | A2: ${wordsA2.length}`;
}

function nextWord() { state.index++; state.studied++; saveState(); loadWord(); }
function prevWord() { state.index = Math.max(0, state.index - 1); saveState(); loadWord(); }
function flipCard() { card.classList.toggle("flip"); }
function toggleDifficult() {}
function changeLevel() { loadLevel(levelSelect.value); }
function speak() {
  if (!currentWords.length) return;
  const u = new SpeechSynthesisUtterance(currentWords[state.index].word);
  u.lang = "en-US";
  speechSynthesis.speak(u);
}

window.nextWord = nextWord;
window.prevWord = prevWord;
window.flipCard = flipCard;
window.toggleDifficult = toggleDifficult;
window.changeLevel = changeLevel;
window.speak = speak;

loadState();
</script>
</body>
</html>
